# PockerWheelServer
本项目是PockerWheel的服务器端，本项目开源，欢迎讨论与指正。
### 本项目已经通过Unity客户端editor测试的功能有
- Test功能，客户端发送test信息，显示桌面内容
- 刷新大厅功能，客户端发送刷新请求，显示所有已经开设的房间
---
### 本项目已经通过ScoketTool测试的功能有
- Test功能，客户端发送test信息，显示桌面内容
- 创建，加入，退出房间功能，客户端发送信息，服务器对应处理并返回。
- 游戏主体功能，玩家选取牌，支付相应的金币
---
### 本项目已经实现的后台功能有
- 上述所有功能
- 游戏进行的完备逻辑，包括积分，计算顺位

#游戏规则
## 0.游戏简介
本游戏基于梭哈开发的博弈型玩法，玩家们通过计算和博弈来战胜对手而不是运气和心理战。游戏基本理念就是通过某种方式获取尽可能大的五张牌。

游戏需要五十二张牌的一副扑克牌和一副筹码进行游玩。
## 1.关于分数
分值表
|单张|对子|双对|三张|顺子|同花|三带二|炸弹|同花顺|
|--|--|--|--|--|--|--|--|--|
|1|2|4|9|14|28|22|45|70|

如果有人获得超过100分，则该玩家获得游戏胜利。如果同时有多人超过100分，则最高分获胜。
## 2.关于场面上的牌
1. 每轮游戏中，每个回合发到场面上的牌数为——四人或三人10张（4+3+2+1），两人6张（3+2+1），一人两张（1+1）。价格根据**3.关于金币**决定。

2. 每回合结束，弃走场面上的一些牌——四人弃走2张，三人弃走3张，两人弃走2张，一人弃走1张。

3. 每回合开始，按照**（1）**的规则补满场上的牌。
## 3.关于金币
每局游戏开始，每位玩家发18个金币。金币可以用于购买场面上的牌。

每轮游戏中，每个回合按照**2.关于场面上的牌**的规则分发场面上的牌。

其中，场面上的牌按**初始牌数**从多到少价格依次增长。起始值为1，如果某一回合某位玩家购买了超过1元的牌，那么在下个回合，对他来说场面上牌的价格最小值为他上一回合所支付的金币。

一轮游戏结束后，玩家按牌面大小顺序依次获得**8，6，4，3**的金币，并且牌的最小价值回归至初始值1。

如果你发现你的金币不足以进行下一轮游戏，你可以选择不进行此轮游戏并获得8枚金币。并且此轮你的得分为0。

如果你在一轮游戏中途发现金币不足以进行下个回合，则你必须弃牌。并且成为倒数第一，如有人在你之前弃牌，则你成为倒数第二，以此类推。并且本局你获得的分数为0。

## 4.关于暗牌
每轮游戏开始，每个人将会分发两张暗牌，其中一张自己可见，一张不可见。不可见的牌当每轮游戏结束后翻开，可以选择可见暗牌+购买的四张明牌+不可见的暗牌其中的五张构成最后的牌面，并与场上其他玩家比较大小。
## 5.关于游戏流程
1. 每局游戏由最多十轮游戏组成，十轮后若没有玩家达到1.关于分数所要求的获胜条件，则游戏结束，得分最高者获胜。如果有相同分则金币最多者获胜，如果依然相同，则最后一轮的得分更高者获胜。
2. 每轮游戏由四个回合组成，每个回合的行动顺序依据上回合的牌面大小决定。玩家按照上回合的牌面从小到大依次行动。如果这是一轮的第一回合，那么则根据上一轮的大小排名由低到高进行行动。（其中，如果上一回合有两张明牌，那么比较大小时只考虑对子和单张。）
3. 每轮游戏结束，根据牌面的大小依次结算分数和金币。并开始下一轮游戏。
